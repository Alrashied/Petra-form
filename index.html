<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>نموذج تجهيز موقع جديد</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: repeating-linear-gradient(
                45deg,
                transparent,
                transparent 10px,
                rgba(255,255,255,0.1) 10px,
                rgba(255,255,255,0.1) 20px
            );
            animation: slide 20s linear infinite;
        }
        
        @keyframes slide {
            0% { transform: translateX(-50px); }
            100% { transform: translateX(50px); }
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .header p {
            font-size: 1.2rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .form-content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 30px;
            padding: 25px;
            background: rgba(255, 255, 255, 0.8);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .section:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
        }
        
        .section-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 3px solid #3498db;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-row {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }
        
        .form-col {
            flex: 1;
            min-width: 200px;
        }
        
        label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #34495e;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 14px;
            transition: all 0.3s ease;
            background: white;
        }
        
        input:focus, select:focus, textarea:focus {
            outline: none;
            border-color: #3498db;
            box-shadow: 0 0 10px rgba(52, 152, 219, 0.3);
            transform: scale(1.02);
        }
        
        textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .checkbox-group {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            margin-top: 10px;
        }
        
        .checkbox-item {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            padding: 10px 15px;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }
        
        .checkbox-item:hover {
            background: #e9ecef;
            border-color: #3498db;
        }
        
        .checkbox-item input[type="checkbox"] {
            width: auto;
            margin-left: 10px;
            transform: scale(1.2);
        }
        
        .radio-group {
            display: flex;
            gap: 20px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .radio-item {
            display: flex;
            align-items: center;
            background: #f8f9fa;
            padding: 10px 15px;
            border-radius: 8px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .radio-item:hover {
            background: #e9ecef;
            border-color: #3498db;
        }
        
        .radio-item input[type="radio"] {
            width: auto;
            margin-left: 10px;
        }
        
        .submit-section {
            text-align: center;
            padding: 30px;
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            margin: 40px -40px -40px -40px;
            border-radius: 0 0 20px 20px;
        }
        
        .submit-btn {
            background: linear-gradient(135deg, #00b894, #00a085);
            color: white;
            padding: 15px 40px;
            border: none;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 10px 20px rgba(0, 184, 148, 0.3);
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 30px rgba(0, 184, 148, 0.4);
        }
        
        .contact-info {
            background: #2d3436;
            color: white;
            padding: 20px;
            text-align: center;
            margin-top: 20px;
            border-radius: 10px;
        }
        
        .contact-info h3 {
            margin-bottom: 15px;
            color: #74b9ff;
        }
        
        .contact-detail {
            margin: 10px 0;
            padding: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
        }
        
        .warning {
            background: linear-gradient(135deg, #fdcb6e, #e17055);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: bold;
            text-align: center;
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
            
            .checkbox-group, .radio-group {
                flex-direction: column;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .form-content {
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>نموذج تجهيز موقع جديد</h1>
            <p>سكان + كور</p>
        </div>
        
        <div class="form-content">
            <form id="siteForm">
                <!-- معلومات عامة -->
                <div class="section">
                    <h2 class="section-title">المعلومات العامة</h2>
                    <div class="form-row">
                        <div class="form-col">
                            <label>التاريخ:</label>
                            <input type="date" name="date" required>
                        </div>
                        <div class="form-col">
                            <label>اسم الشركة:</label>
                            <input type="text" name="company_name">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-col">
                            <label>رقم الهاتف:</label>
                            <input type="tel" name="phone">
                        </div>
                        <div class="form-col">
                            <label>S.NO:</label>
                            <input type="text" name="serial_number">
                        </div>
                    </div>
                </div>

                <!-- معلومات الحفر -->
                <div class="section">
                    <h2 class="section-title">معلومات الحفر</h2>
                    <div class="form-row">
                        <div class="form-col">
                            <label>العدد سكان:</label>
                            <input type="number" name="piles_count" min="0">
                        </div>
                        <div class="form-col">
                            <label>العدد كور:</label>
                            <input type="number" name="core_count" min="0">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>تأمين مكان اسفل الحفر:</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <label>جاهز</label>
                                <input type="radio" name="excavation_security" value="ready">
                            </div>
                            <div class="radio-item">
                                <label>غير جاهز</label>
                                <input type="radio" name="excavation_security" value="not_ready">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>وجود أي عوائق للحفر من الأسفل:</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <label>موجود</label>
                                <input type="radio" name="obstacles" value="existing">
                            </div>
                            <div class="radio-item">
                                <label>غير موجود</label>
                                <input type="radio" name="obstacles" value="none">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>العائق:</label>
                        <input type="text" name="obstacle_description">
                    </div>
                    
                    <div class="form-group">
                        <label>وقت بدء العمل:</label>
                        <input type="time" name="work_start_time">
                    </div>
                </div>

                <!-- معلومات السلابة -->
                <div class="section">
                    <h2 class="section-title">معلومات السلابة</h2>
                    <div class="form-row">
                        <div class="form-col">
                            <label>نوع السيراميك:</label>
                            <input type="text" name="ceramic_type">
                        </div>
                        <div class="form-col">
                            <label>سماكة السلابة:</label>
                            <input type="text" name="slab_thickness">
                        </div>
                    </div>
                    
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <label>طبقة سكريد على السلابة</label>
                            <input type="checkbox" name="screed_layer">
                        </div>
                        <div class="checkbox-item">
                            <label>رمل</label>
                            <input type="checkbox" name="sand">
                        </div>
                        <div class="checkbox-item">
                            <label>لاصق</label>
                            <input type="checkbox" name="adhesive">
                        </div>
                        <div class="checkbox-item">
                            <label>بوستنشن</label>
                            <input type="checkbox" name="post_tension">
                        </div>
                        <div class="checkbox-item">
                            <label>بريكاست</label>
                            <input type="checkbox" name="precast">
                        </div>
                    </div>
                </div>

                <!-- الكهرباء والماء -->
                <div class="section">
                    <h2 class="section-title">الكهرباء والماء</h2>
                    <div class="form-row">
                        <div class="form-col">
                            <label>الكهرباء:</label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <label>جاهز</label>
                                    <input type="radio" name="electricity" value="ready">
                                </div>
                                <div class="radio-item">
                                    <label>غير جاهز</label>
                                    <input type="radio" name="electricity" value="not_ready">
                                </div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label>الماء:</label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <label>جاهز</label>
                                    <input type="radio" name="water" value="ready">
                                </div>
                                <div class="radio-item">
                                    <label>غير جاهز</label>
                                    <input type="radio" name="water" value="not_ready">
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>قياس الكيبل المطلوب بالمتر:</label>
                        <input type="number" name="cable_length" min="0">
                    </div>
                </div>

                <!-- إجراءات الحماية -->
                <div class="section">
                    <h2 class="section-title">إجراءات الحماية</h2>
                    <div class="form-group">
                        <label>طبيعة الحماية:</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <label>مستعجل</label>
                                <input type="radio" name="protection_nature" value="urgent">
                            </div>
                            <div class="radio-item">
                                <label>عادي</label>
                                <input type="radio" name="protection_nature" value="normal">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>التجهيز:</label>
                        <div class="checkbox-group">
                            <div class="checkbox-item">
                                <label>من أعلى</label>
                                <input type="checkbox" name="protection_top">
                            </div>
                            <div class="checkbox-item">
                                <label>من أسفل</label>
                                <input type="checkbox" name="protection_bottom">
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>طريقة التأمين:</label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <label>جاهز</label>
                                <input type="radio" name="security_method" value="ready">
                            </div>
                            <div class="radio-item">
                                <label>غير جاهز</label>
                                <input type="radio" name="security_method" value="not_ready">
                            </div>
                        </div>
                    </div>
                </div>

                <!-- وثائق الأمان المطلوبة -->
                <div class="section">
                    <h2 class="section-title">وثائق الأمان المطلوبة</h2>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <label>شهادات سيفتي للفنيين</label>
                            <input type="checkbox" name="technician_safety_cert">
                        </div>
                        <div class="checkbox-item">
                            <label>شهادات سيفتي للمكائن</label>
                            <input type="checkbox" name="machine_safety_cert">
                        </div>
                        <div class="checkbox-item">
                            <label>شهادات السيفتي في الموقع وموعد الدورة</label>
                            <input type="checkbox" name="site_safety_cert">
                        </div>
                        <div class="checkbox-item">
                            <label>تقديم أوراق الفنيين لدورة السيفتي</label>
                            <input type="checkbox" name="technician_papers">
                        </div>
                    </div>
                </div>

                <!-- الصور المطلوبة -->
                <div class="section">
                    <h2 class="section-title">الصور المطلوبة (الإرسال إلزامي)</h2>
                    <div class="checkbox-group">
                        <div class="checkbox-item">
                            <label>علامات الحفر</label>
                            <input type="checkbox" name="excavation_marks">
                        </div>
                        <div class="checkbox-item">
                            <label>السقالات</label>
                            <input type="checkbox" name="scaffolding">
                        </div>
                        <div class="checkbox-item">
                            <label>مكان الحفر من الأسفل</label>
                            <input type="checkbox" name="excavation_bottom">
                        </div>
                    </div>
                </div>

                <!-- معلومات إضافية -->
                <div class="section">
                    <h2 class="section-title">معلومات إضافية</h2>
                    <div class="form-row">
                        <div class="form-col">
                            <label>احتمالية وجود الاستشاري غداً:</label>
                            <div class="radio-group">
                                <div class="radio-item">
                                    <label>نعم</label>
                                    <input type="radio" name="consultant_presence" value="yes">
                                </div>
                                <div class="radio-item">
                                    <label>لا</label>
                                    <input type="radio" name="consultant_presence" value="no">
                                </div>
                            </div>
                        </div>
                        <div class="form-col">
                            <label>المسؤولية:</label>
                            <select name="responsibility">
                                <option value="">اختر...</option>
                                <option value="contractor">المقاول</option>
                                <option value="petra">بترا</option>
                                <option value="other">أخرى</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>الموعد المتوقع للحفر:</label>
                        <input type="datetime-local" name="expected_excavation_time">
                    </div>
                    
                    <div class="form-group">
                        <label>عدة خاصة لطبيعة العمل في الموقع:</label>
                        <textarea name="special_equipment" placeholder="اذكر المعدات الخاصة المطلوبة..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>مقترحات لتسهيل الشغل وتسريع الإنتاج:</label>
                        <textarea name="suggestions" placeholder="اكتب مقترحاتك..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>ملاحظات:</label>
                        <textarea name="notes" placeholder="أي ملاحظات إضافية..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>اسم مجهز الموقع:</label>
                        <input type="text" name="site_preparer_name">
                    </div>
                </div>

                <!-- تحذيرات -->
                <div class="warning">
                    <p>تنبيه: الاتصال بالمسؤول في المكتب قبل ساعة من مغادرة الموقع للتشاور في التجهيزات</p>
                </div>
                
                <div class="warning">
                    <p>تنبيه: التأكد من عدم تجهيز أي عمل أكثر من المتفق عليه في الديلفري</p>
                </div>

                <div class="submit-section">
                    <button type="submit" class="submit-btn">إرسال النموذج (حتى لو غير مكتمل)</button>
                    <button type="button" class="submit-btn" onclick="exportToPDF()" style="background: linear-gradient(135deg, #e17055, #d63031); margin-right: 20px;">
                        تصدير كـ PDF
                    </button>
                    
                    <div class="contact-info">
                        <h3>إرسال النموذج المعبأ إلى:</h3>
                        <div class="contact-detail">
                            <strong>البريد الإلكتروني:</strong> ahmadramdan@petrarepairing.com
                        </div>
                        <div class="contact-detail">
                            <strong>واتساب:</strong> +971521767964
                        </div>
                    </div>
                </div>
            </form>
        </div>
    </div>

    <script>
        // وظيفة تصدير PDF
        function exportToPDF() {
            // إخفاء الأزرار مؤقتاً للطباعة
            const buttons = document.querySelectorAll('.submit-btn');
            buttons.forEach(btn => btn.style.display = 'none');
            
            // تطبيق ستايل الطباعة
            const printStyle = document.createElement('style');
            printStyle.textContent = `
                @media print {
                    body { 
                        background: white !important;
                        -webkit-print-color-adjust: exact;
                        color-adjust: exact;
                    }
                    .container {
                        box-shadow: none !important;
                        max-width: 100% !important;
                        margin: 0 !important;
                    }
                    .header {
                        background: #ff6b6b !important;
                        -webkit-print-color-adjust: exact;
                        color-adjust: exact;
                    }
                    .section {
                        page-break-inside: avoid;
                        margin-bottom: 20px;
                    }
                    .form-row {
                        page-break-inside: avoid;
                    }
                    .submit-section {
                        display: none !important;
                    }
                    .contact-info {
                        background: #2d3436 !important;
                        -webkit-print-color-adjust: exact;
                        color-adjust: exact;
                    }
                    .warning {
                        background: #fdcb6e !important;
                        -webkit-print-color-adjust: exact;
                        color-adjust: exact;
                    }
                    input, select, textarea {
                        border: 2px solid #333 !important;
                        background: white !important;
                        min-height: 25px;
                    }
                    input[type="checkbox"], input[type="radio"] {
                        min-height: 15px;
                        width: 15px;
                    }
                }
            `;
            document.head.appendChild(printStyle);
            
            // فتح حوار الطباعة
            window.print();
            
            // إعادة عرض الأزرار بعد الطباعة
            setTimeout(() => {
                buttons.forEach(btn => btn.style.display = 'inline-block');
                document.head.removeChild(printStyle);
            }, 1000);
        }

        document.getElementById('siteForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // جمع بيانات النموذج
            const formData = new FormData(this);
            let emailBody = 'نموذج تجهيز موقع جديد - سكان + كور\n\n';
            
            // تحويل البيانات إلى نص منسق (حتى البيانات الفارغة)
            const fieldLabels = {
                'date': 'التاريخ',
                'company_name': 'اسم الشركة',
                'phone': 'رقم الهاتف',
                'serial_number': 'S.NO',
                'piles_count': 'العدد سكان',
                'core_count': 'العدد كور',
                'excavation_security': 'تأمين مكان اسفل الحفر',
                'obstacles': 'وجود عوائق',
                'obstacle_description': 'وصف العائق',
                'work_start_time': 'وقت بدء العمل',
                'ceramic_type': 'نوع السيراميك',
                'slab_thickness': 'سماكة السلابة',
                'electricity': 'الكهرباء',
                'water': 'الماء',
                'cable_length': 'طول الكيبل المطلوب',
                'protection_nature': 'طبيعة الحماية',
                'security_method': 'طريقة التأمين',
                'consultant_presence': 'وجود الاستشاري',
                'responsibility': 'المسؤولية',
                'expected_excavation_time': 'الموعد المتوقع للحفر',
                'special_equipment': 'المعدات الخاصة',
                'suggestions': 'المقترحات',
                'notes': 'الملاحظات',
                'site_preparer_name': 'اسم مجهز الموقع'
            };
            
            // إضافة جميع الحقول (مكتملة أو فارغة)
            for (let [key, label] of Object.entries(fieldLabels)) {
                const value = formData.get(key) || 'غير مذكور';
                emailBody += ${label}: ${value}\n;
            }
            
            // إضافة الحقول المتعددة (checkboxes)
            emailBody += '\nالخيارات المحددة:\n';
            const checkboxes = ['screed_layer', 'sand', 'adhesive', 'post_tension', 'precast', 
                              'protection_top', 'protection_bottom', 'technician_safety_cert', 
                              'machine_safety_cert', 'site_safety_cert', 'technician_papers',
                              'excavation_marks', 'scaffolding', 'excavation_bottom'];
            
            checkboxes.forEach(checkbox => {
                if (formData.get(checkbox)) {
                    emailBody += ✓ ${checkbox}\n;
                }
            });
            
            emailBody += '\n--- النموذج مرسل حتى لو لم يكتمل ---';
            
            // إنشاء رابط البريد الإلكتروني
            const mailtoLink = mailto:ahmadramdan@petrarepairing.com?subject=نموذج تجهيز موقع جديد (مرسل)&body=${encodeURIComponent(emailBody)};
            
            // فتح تطبيق البريد الإلكتروني
            window.location.href = mailtoLink;
            
            // عرض رسالة تأكيد
            alert('تم إرسال النموذج حتى لو لم يكتمل!\n\nالبريد الإلكتروني: ahmadramdan@petrarepairing.com\nواتساب: +971521767964');
        });
        
        // إضافة تأثيرات بصرية
        document.querySelectorAll('.section').forEach(section => {
            section.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-5px)';
            });
            
            section.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
        
        // تحديث التاريخ الحالي
        document.querySelector('input[name="date"]').valueAsDate = new Date();
    </script>
</body>
</html>